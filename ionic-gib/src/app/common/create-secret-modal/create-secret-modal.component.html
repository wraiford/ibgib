<ion-header translucent>
  <ion-toolbar>
    <ion-title title="Create Secret...">Create Secret...</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="handleCreateClick()">Create Secret</ion-button>
      <ion-button (click)="handleCancelClick()">Cancel</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content fullscreen>
  <ion-item-group>
    <ion-item-divider>
      <ion-text color="danger">{{ validationErrors.length > 0 ? 'Errors: ' : ''}}{{ validationErrors.join('\n') }}</ion-text>
    </ion-item-divider>
  </ion-item-group>
  <!-- <ion-item-group *ngIf="validationErrorsYo?.length > 0">
    <ion-item>
      <ion-label>validation errors wakka</ion-label>
    </ion-item>
    <ion-item *ngFor="let p of validationErrors">
      <ion-label>yo</ion-label>
    </ion-item>
  </ion-item-group> -->

  <!-- Secret details -->
  <ion-item-group>
    <ion-item-divider>
      <ion-label>Secret Details: </ion-label>
    </ion-item-divider>

    <!-- name -->
    <ion-item [title]="fields.name.description" >
      <ion-label
        position="floating">{{ fields.name.label }}: </ion-label>
      <ion-input [(ngModel)]="name"
        [placeholder]="fields.name.placeholder"
        ></ion-input>
    </ion-item>

    <!-- description -->
    <ion-item [title]="fields.description.description">
      <ion-label position="floating">{{fields.description.label}}: </ion-label>
      <ion-input [(ngModel)]="description"
        [placeholder]="fields.description.placeholder"
        ></ion-input>
    </ion-item>

    <!-- type+subtype -->
    <ion-item>
    <!-- <ion-item (click)="handleDebug()"> -->
      <!-- <ion-label position="floating">Type: </ion-label> -->
      <!-- <ion-input readonly [value]="selectedType"></ion-input> -->
      <!-- <ion-select value='one'>
        <ion-select-option value='one'>
          <ion-label>one</ion-label>
        </ion-select-option>
        <ion-select-option value='two'>
          <ion-label>two</ion-label>
        </ion-select-option>
      </ion-select> -->
      <!-- <ion-select *ngIf="users && users.length" [compareWith]="compareWith"> -->
      <ion-select interface="popover" [(ngModel)]="selectedType" (ionChange)="selectedType = $event.detail.value">
        <ion-select-option *ngFor="let item of types"
          [value]="item.type">
          <ion-label>{{item.label}}</ion-label>
        </ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label position="floating">Subtype: </ion-label>
      <ion-input readonly [value]="selectedSubtype"></ion-input>
      <!-- <ion-select
        [value]="selectedSubtype"
        okText="Select subtype"
        (ionChange)="handleSelectedSubtypeChange($event)"
        >
        <ion-select-option *ngFor="let item of subtypes" [value]="item">
          <ion-label>{{ item }}</ion-label>
        </ion-select-option>
      </ion-select> -->
    </ion-item>
  </ion-item-group>

  <!-- encryption details -->
  <!-- right now this is just encrypt-gib -->
  <ion-item-group>
    <ion-item-divider>
      <ion-label>Encryption Details</ion-label>
    </ion-item-divider>
    <!-- encryption method -->
    <ion-item title="This is the only encryption I've implemented so far. No guarantees.">
      <ion-label position="floating">Method: </ion-label>
      <ion-input readonly value="encrypt-gib (weak)"></ion-input>
    </ion-item>
    <!-- expirationUTC -->
    <ion-item [title]="fields.expirationUTC.description">
      <ion-label position="floating">{{fields.expirationUTC.label}}: </ion-label>
      <ion-input readonly [value]="expirationUTC"></ion-input>
    </ion-item>
    <!-- userSalt -->
    <ion-item [title]="fields.userSalt.description">
      <ion-label position="floating">{{fields.userSalt.label}}: </ion-label>
      <ion-input [(ngModel)]= "userSalt"
        [placeholder]="fields.userSalt.placeholder"
        ></ion-input>
    </ion-item>
    <!-- initialRecursions -->
    <ion-item [title]="fields.initialRecursions.description">
      <ion-label position="floating">{{fields.initialRecursions.label}}: </ion-label>
      <ion-input [(ngModel)]="initialRecursions"
        type="number" min="0" max="1000000" step="1000"></ion-input>
    </ion-item>
    <!-- recursionsPerHash -->
    <ion-item [title]="fields.recursionsPerHash.description">
      <ion-label position="floating">{{fields.recursionsPerHash.label}}: </ion-label>
      <ion-input [(ngModel)]="recursionsPerHash"
        type="number" min="0" max="1000" step="1"></ion-input>
    </ion-item>
    <!-- userPassword -->
    <ion-item [title]="fields.userPassword.description">
      <ion-label position="floating">{{fields.userPassword.label}}: </ion-label>
      <ion-input [(ngModel)]="userPassword"
        type="password"></ion-input>
    </ion-item>
    <!-- userPasswordConfirm -->
    <ion-item [title]="fields.userPasswordConfirm.description">
      <ion-label position="floating">{{fields.userPasswordConfirm.label}}: </ion-label>
      <ion-input [(ngModel)]="userPasswordConfirm"
        type="password"></ion-input>
    </ion-item>
    <!-- hint -->
    <ion-item [title]="fields.hint.description">
      <ion-label position="floating">{{fields.hint.label}}: </ion-label>
      <ion-input [(ngModel)]="hint"
        [placeholder]="fields.hint.placeholder"
        type="text"></ion-input>
    </ion-item>
    <!-- Hash Algorithm -->
    <ion-item [title]="fields.hashAlgorithm.description">
      <ion-label>Hash Algorithm: </ion-label>
      <ion-select
        [value]="hashAlgorithm"
        okText="Select algorithm"
        (ionChange)="handleSelectedHashAlgorithmChange($event)"
        >
        <ion-select-option value="SHA-256"> <ion-label>SHA-256</ion-label> </ion-select-option>
        <ion-select-option value="SHA-512"> <ion-label>SHA-512</ion-label> </ion-select-option>
      </ion-select>
    </ion-item>

  </ion-item-group>
</ion-content>