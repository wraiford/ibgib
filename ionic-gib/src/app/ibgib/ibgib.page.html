<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button slot="icon-only"></ion-menu-button>
      <ion-button *ngIf="showBackChevronBtn"
        class="back-btn"
        (click)="handleBackButtonClick()"
        >
        <ion-icon name="chevron-back-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>

      <!-- atow, i am doing selective titles in ibgib-component-base.ts title property  -->
    <ion-title *ngIf='isTag' class='toolbar-title-yo'>
      <tag-view [addr]='item.addr'> </tag-view>
    </ion-title>
    <ion-title *ngIf='isPic' class='pic-title toolbar-title-yo'>
      <ion-thumbnail>
        <pic-view [addr]='item.addr' [isTitle]='true' (click)="showFullscreenModal()"></pic-view>
      </ion-thumbnail>
    </ion-title>
    <ion-title *ngIf='isComment' class='comment-title toolbar-title-yo' (click)="handleTitleClick()">
        <comment-view [addr]='item.addr' [isTitle]='true'></comment-view>
    </ion-title>
    <ion-title *ngIf='!isTag && !isPic && !isComment' class='toolbar-title-yo'>
      {{ title }}
    </ion-title>
  </ion-toolbar>
  <ion-toolbar color="background">
    <ion-buttons slot="end" collapse="true">
      <ion-button
        class="toolbar-title-btn"
        (click)="handleShareClick()">
        <ion-icon name="share-social-outline" ios="share-outline"></ion-icon>
      </ion-button>
      <ion-button *ngIf="tjp"
        [disabled]="syncing"
        [ngClass]="{'active-btn': autosync}"
        class="toolbar-title-btn"
        (click)="handleSyncClick()">
        <ion-icon name="sparkles-outline"></ion-icon>
        <ion-spinner *ngIf="syncing" name="circles" color="tertiary"></ion-spinner>
        <ion-badge *ngIf="tjpUpdatesAvailableCount_Store" color="primary" slot="end">
          {{ tjpUpdatesAvailableCount_Store }}
        </ion-badge>
      </ion-button>
      <ion-button [disabled]="refreshing"
        [ngClass]="{'active-btn':!paused}"
        class="toolbar-title-btn"
        (click)="handleRefreshClick()">
        <ion-icon *ngIf="!refreshing" name="refresh"></ion-icon>
        <ion-spinner *ngIf="refreshing" name="bubbles" color="tertiary"></ion-spinner>
        <ion-badge *ngIf="tjpUpdatesAvailableCount_Local" color="primary" slot="end">
          {{ tjpUpdatesAvailableCount_Local }}
        </ion-badge>
      </ion-button>
      <ion-button [disabled]="syncing || refreshing || paused || tagging"
        class="toolbar-title-btn"
        (click)="handleTagClick($event)">
        <ion-icon name="pricetag-outline"></ion-icon>
        <ion-spinner *ngIf="tagging" name="bubbles" color="tertiary"></ion-spinner>
      </ion-button>
      <ion-button [disabled]="syncing || refreshing || paused || tagging"
        class="toolbar-title-btn"
        (click)="handleInfoClick($event)">
        <ion-icon name="information"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="false">

  <!-- <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ addr }}</ion-title>
    </ion-toolbar>
  </ion-header> -->

  <div *ngIf="!item?.ibGib || refreshing" class="loading-div">
    <!-- <p>loading...</p> -->
    <div class="spacer-50"></div>
    <div class="loading-hair">
      <ion-spinner name="lines-small" color="tertiary"></ion-spinner>
      <ion-spinner class="slant-left" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner class="slant-right" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner name="lines-small" color="tertiary"></ion-spinner>
    </div>
    <div class="loading-hair">
      <ion-spinner class="slant-left" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner class="move-up" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner class="move-up" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner class="slant-right" name="dots" color="tertiary"></ion-spinner>
    </div>
    <div class="loading-eyes">
      <ion-spinner class="slant-left" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner class="move-up" name="bubbles" color="tertiary"></ion-spinner>
      <ion-spinner class="move-up" name="bubbles" color="tertiary"></ion-spinner>
      <ion-spinner class="slant-right" name="dots" color="tertiary"></ion-spinner>
    </div>
    <div class="loading-hair">
      <ion-spinner color="tertiary"></ion-spinner>
      <ion-spinner class="slant-right" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner class="slant-left" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner color="tertiary"></ion-spinner>
    </div>
    <div class="loading-hair">
      <ion-spinner color="tertiary"></ion-spinner>
      <ion-spinner class="slant-left" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner class="slant-right" name="dots" color="tertiary"></ion-spinner>
      <ion-spinner color="tertiary"></ion-spinner>
    </div>
  </div>
    <!-- [ngStyle]="{'border-color': '[debugBorderColor]','border-width':'155px','border-stroke':'solid'}" -->
  <div id="container"
    *ngIf="item?.ibGib"
    [style.border-color]="debugBorderColor"
    [style.border-width]="debugBorderWidth"
    [style.border-style]="debugBorderStyle"
    >

    <tag-list *ngIf='isTags || isTag' [addr]='addr' [ibGib_Context]='ibGib'></tag-list>
    <root-list *ngIf='isRoots' [addr]='addr' [ibGib_Context]='ibGib'></root-list>
    <chat-view *ngIf='!(isTag || isTags || isRoots)' [addr]='addr' [ibGib_Context]='ibGib'></chat-view>

  </div>

</ion-content>

<ion-footer>
  <action-bar [addr]='addr' [ibGib_Context]='ibGib'></action-bar>
</ion-footer>
