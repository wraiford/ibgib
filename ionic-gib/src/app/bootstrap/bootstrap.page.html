<ion-header>
  <ion-toolbar>
    <ion-title color="primary">bootstrap</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button slot="icon-only" color="primary"></ion-menu-button>
      <ion-button *ngIf="platform === 'ios'" class="back-btn"
        color="primary"
        (click)="handleBackButtonClick()">
        <ion-icon name="chevron-back-outline" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button class="back-btn"
        color="primary"
        (click)="handleBackButtonClick()">
        <ion-icon name="chevron-back-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-accordion-group multiple [value]="['form', 'spaces']">

    <!-- default space -->
    <ion-accordion value="form">
      <ion-item slot="header">
        <ion-label>
          <ion-text color="primary">default space</ion-text>
        </ion-label>
      </ion-item>
      <ion-item slot="content">
          <ion-note *ngIf="showSubmit" slot="helper" color="primary">will require restart...</ion-note>
        <ib-dynamic-form #form *ngIf="formItems?.length > 0"
          [items]="formItems"
          (dynamicSubmit)="handleDynamicSubmit($event)"
          [showHelp]="showHelp"
          [showSubmit]="showSubmit"
          >
          <!-- (itemSelect)="handleItemSelected($event)" -->
        </ib-dynamic-form>
        <ion-item *ngIf="showSubmit">
          <ion-text color="primary">will require restart...</ion-text>
        </ion-item>
      </ion-item>
    </ion-accordion>

    <!-- spaces -->
    <ion-accordion value="spaces">
      <ion-item slot="header">
        <ion-label>
          <ion-text color="primary">local spaces</ion-text>
        </ion-label>
      </ion-item>
      <ion-list slot="content" id="local-spaces-content" class="accordion-item-list">
          <ion-item *ngFor="let space of localSpaces">
            <ion-text color="primary">{{space.data.name}}</ion-text>
          </ion-item>
          <ion-item>
            <ion-buttons>
              <ion-button color="primary" fill="outline" [disabled]="isBusy"
                (click)="handleClick_AddSpace()">add space</ion-button>
            </ion-buttons>
          </ion-item>
      </ion-list>
    </ion-accordion>

    <!-- import spaces -->
    <ion-accordion value="import_space">
      <ion-item slot="header">
        <ion-label>
          <ion-text color="primary">import space</ion-text>
        </ion-label>
      </ion-item>
      <ion-list slot="content" class="accordion-item-list">
          <ion-item *ngFor="let info of browseInfos" class="file-folder-item"
            [ngClass]="{'active-btn':info.selected}"
            (click)="handleClickFileFolderInfo(info)">
            <ion-icon *ngIf="info.isDirectory" name="folder-outline" color="primary" slot="start"></ion-icon>
            <ion-icon *ngIf="info.isSpace" name="earth-outline" color="primary" slot="start"></ion-icon>
            <ion-icon *ngIf="info.isBootstrap" name="footsteps-outline" color="primary" slot="start"></ion-icon>
            <ion-text color="primary">{{info.label || info.name}}</ion-text>
          </ion-item>
          <ion-item *ngIf="refreshingBrowseInfos">
            <ion-spinner name="circles" color="primary"></ion-spinner>
          </ion-item>
          <ion-item>
            <ion-buttons>
              <ion-button color="primary" fill="outline" [disabled]="isBusy || refreshingBrowseInfos"
                (click)="refreshBrowseInfos()">refresh</ion-button>
              <ion-button color="primary" fill="outline" [disabled]="isBusy || !spacesAreSelectedToImport"
                (click)="handleClick_ImportSpace_Web()">import space</ion-button>
            </ion-buttons>
          </ion-item>
      </ion-list>
    </ion-accordion>

    <!-- raw bootstrap -->
    <ion-accordion value="raw">
      <ion-item slot="header">
        <ion-label>
          <ion-text color="primary">raw</ion-text>
        </ion-label>
      </ion-item>
      <ion-item slot="content">
        <pre>{{bootstrapIbGib | json}}</pre>
      </ion-item>
    </ion-accordion>

  </ion-accordion-group>

</ion-content>
