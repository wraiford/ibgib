<!-- root -->
<root-view #rootView
  *ngIf='item?.type === "root"'
  class='root-item'
  [addr]='addr'
  [ibGib_Context]="ibGib_Context"
  [rel8nName_Context]="rel8nName_Context"
  [isTodo]="isTodo"
  [isTitleOrJustSmall]='isTitleOrJustSmall'
  [hideTimestamp]="hideTimestamp"
  [isLarge]="isLarge"
  (click)='handleClicked(item)'
  [style.border-color]="debugBorderColor"
  [style.border-width]="debugBorderWidth"
  [style.border-style]="debugBorderStyle"
  [style.border-left-color]="debugBorderColor"
  [style.border-left-style]="'solid'"
  [style.border-left-width]="hasChildren ? '2px' : '0px'"
  >
</root-view>

<!-- pic -->
<pic-view #picView
  *ngIf='item?.type === "pic"'
  class='pic-item'
  [addr]='addr'
  [ibGib_Context]="ibGib_Context"
  [rel8nName_Context]="rel8nName_Context"
  [isTodo]="isTodo"
  [isTitleOrJustSmall]='isTitleOrJustSmall'
  [hideTimestamp]="hideTimestamp"
  [isLarge]="isLarge"
  (click)='handleClicked(item)'
  [style.border-color]="debugBorderColor"
  [style.border-width]="debugBorderWidth"
  [style.border-style]="debugBorderStyle"
  [style.border-left-color]="debugBorderColor"
  [style.border-left-style]="'solid'"
  [style.border-left-width]="hasChildren ? '2px' : '0px'"
  >
</pic-view>
<!-- pic label -->
<comment-view *ngIf="item?.type === 'pic' && showLabel && labelAddr"
  class='item-label'
  [isTitleOrJustSmall]="true"
  [addr]='labelAddr'
  [hideTimestamp]="true"
  [style.border-color]="debugBorderColor"
  [style.border-width]="debugBorderWidth"
  [style.border-style]="debugBorderStyle"
  [style.border-left-color]="debugBorderColor"
  [style.border-left-style]="'dotted'"
  [style.border-left-width]="hasChildren ? '1px' : '0px'"
  >
</comment-view>


<!-- comment -->
<comment-view #commentView
  *ngIf='item?.type === "comment"'
  class='comment-item'
  [ngClass]="{'disable-selection': disableSelection}"
  [addr]='addr'
  [ibGib_Context]="ibGib_Context"
  [rel8nName_Context]="rel8nName_Context"
  [isTodo]="isTodo"
  [isTitleOrJustSmall]='isTitleOrJustSmall'
  [hideTimestamp]="hideTimestamp"
  [isLarge]="isLarge"
  (click)='handleClicked(item)'
  [style.border-color]="debugBorderColor"
  [style.border-width]="debugBorderWidth"
  [style.border-style]="debugBorderStyle"
  [style.border-left-color]="debugBorderColor"
  [style.border-left-style]="'solid'"
  [style.border-left-width]="hasChildren ? '2px' : '0px'"
  >
</comment-view>

<!-- link -->
<link-view #linkView
  *ngIf='item?.type === "link"'
  class='link-item'
  [addr]='addr'
  [ibGib_Context]="ibGib_Context"
  [rel8nName_Context]="rel8nName_Context"
  [isTodo]="isTodo"
  [isTitleOrJustSmall]='isTitleOrJustSmall'
  [hideTimestamp]="hideTimestamp"
  [isLarge]="isLarge"
  [stopClickPropagation]="false"
  (click)='handleClicked(item)'
  [style.border-color]="debugBorderColor"
  [style.border-width]="debugBorderWidth"
  [style.border-style]="debugBorderStyle"
  [style.border-left-color]="debugBorderColor"
  [style.border-left-style]="'solid'"
  [style.border-left-width]="hasChildren ? '2px' : '0px'"
  >
</link-view>
<!-- link label -->
<comment-view *ngIf="item?.type === 'link' && showLabel && labelAddr"
  class='item-label'
  [isTitleOrJustSmall]="true"
  [addr]='labelAddr'
  [hideTimestamp]="true"
  [style.border-color]="debugBorderColor"
  [style.border-width]="debugBorderWidth"
  [style.border-style]="debugBorderStyle"
  [style.border-left-color]="debugBorderColor"
  [style.border-left-style]="'dotted'"
  [style.border-left-width]="hasChildren ? '1px' : '0px'"
  >
</comment-view>

<!-- tag -->
<tag-view #tagView
  *ngIf='item?.type === "tag"'
  class='list-item tag-item'
  [addr]='addr'
  [ibGib_Context]="ibGib_Context"
  [rel8nName_Context]="rel8nName_Context"
  [isTodo]="isTodo"
  [isTitleOrJustSmall]='isTitleOrJustSmall'
  [hideTimestamp]="hideTimestamp"
  [isLarge]="isLarge"
  (click)='handleClicked(item)'
  [style.border-color]="debugBorderColor"
  [style.border-width]="debugBorderWidth"
  [style.border-style]="debugBorderStyle"
  [style.border-left-color]="debugBorderColor"
  [style.border-left-style]="'solid'"
  [style.border-left-width]="hasChildren ? '2px' : '0px'"
  >
</tag-view>

<!-- fallback for none of the above -->
<fallback-view #fallbackView
  *ngIf='!itemTypes.includes(item?.type)'
  class='list-item'
  [addr]='addr'
  [ibGib_Context]="ibGib_Context"
  [rel8nName_Context]="rel8nName_Context"
  [isTodo]="isTodo"
  [isTitleOrJustSmall]='isTitleOrJustSmall'
  [hideTimestamp]="hideTimestamp"
  [isLarge]="isLarge"
  (click)='handleClicked(item)'
  [style.border-color]="debugBorderColor"
  [style.border-width]="debugBorderWidth"
  [style.border-style]="debugBorderStyle"
  [style.border-left-color]="debugBorderColor"
  [style.border-left-style]="'solid'"
  [style.border-left-width]="hasChildren ? '4px' : '0px'"
  >
</fallback-view>
